<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>

        div {
            position: relative;
            top: 500px
        }

        h1 {
            font-size: 5rem;
        }

    </style>

</head>
<body>


    <!-- 버튼 하나로만 하면 문제없는데, 버튼 두개일 때는 대응 방법이 없다. -->



    <div>


        <h1>HELLO</h1>
        
        <input id ="fade-in" type="button" value="fade in">
        <input id ="fade-out" type="button" value="fade out">
    </div>
        

    <script>

        (()=>{

            const h1Message = document.querySelector('h1')
            const btnFadeIn = document.querySelector('#fade-in')
            const btnFadeOut = document.querySelector('#fade-out')



            const fadeInH1 = ()=>{

                btnFadeOut.removeEventListener('click', fadeOutH1);
                btnFadeIn.removeEventListener('click', fadeInH1);
                
                let tid;       // interval id;
                let count = 0;
                let opacityValue = 1;
                let translateValue = 0;
                
                tid =
                setInterval(() => {
                    h1Message.style.opacity = opacityValue;  
                    
                    if(opacityValue <= 0)
                    {
                        opacityValue = 0;
                        
                    }
                    else
                    {
                        opacityValue = opacityValue - 0.014
                    }


                    translateValue = translateValue - 1.875;
                    h1Message.style.transform = `translateY(${translateValue}%)`;
                    
                    count++;
                        if(count === 75)
                        {
                            clearInterval(tid)
                            h1Message.style.transform = '';
                            h1Message.style.opacity = '';

                            btnFadeOut.addEventListener('click', fadeOutH1);
                            btnFadeIn.addEventListener('click', fadeInH1);
                        }
                }, 20);
            }








            const fadeOutH1 = ()=>{

                btnFadeOut.removeEventListener('click', fadeOutH1);
                btnFadeIn.removeEventListener('click', fadeInH1);
                
                let tid2;       // interval id;
                let count = 0;
                let opacityValue = 0;
                let translateValue = 0;
                
                tid2 =
                setInterval(() => {
                    h1Message.style.opacity = opacityValue;  
                    
                    if(opacityValue < 0)
                    {
                        opacityValue = 0;
                        
                    }
                    else
                    {
                        opacityValue = opacityValue + 0.014
                    }


                    translateValue = translateValue - 1.875;
                    h1Message.style.transform = `translateY(${translateValue}%)`;
                    
                    count++;
                        if(count === 75)
                        {
                            clearInterval(tid2)
                            h1Message.style.transform = '';
                            h1Message.style.opacity = '';

                            btnFadeOut.addEventListener('click', fadeOutH1);
                            btnFadeIn.addEventListener('click', fadeInH1);
                        }
                }, 20);




                console.log('b')
            }





            btnFadeIn.addEventListener('click', fadeInH1);


            btnFadeOut.addEventListener('click', fadeOutH1);



        })();



    </script>




</body>
</html>
